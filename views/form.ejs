<!-- form.ejs -->
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Rapport d'inspection du véhicule</title>
  <!-- Inclure Bootstrap CSS -->
  <link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    crossorigin="anonymous"
  />
  <!-- Votre fichier CSS personnalisé -->
  <link rel="stylesheet" href="/style.css" />
  <!-- Font Awesome -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    crossorigin="anonymous"
  />
</head>
<body>
  <div class="container">
    <!-- En-tête -->
    <header class="d-flex justify-content-between align-items-center my-4">
      <div id="company-info" class="d-flex align-items-center">
        <img src="/company_logo.png" alt="Logo de l'entreprise" class="mr-3" style="width: 80px;" />
        <div>
          <h1 class="h3 mb-0">AUTO PRESTO</h1>
          <p class="mb-0">123 Rue Principale, Ville, Pays</p>
          <p class="mb-0">Téléphone : 0123456789</p>
        </div>
      </div>
      <nav>
        <a href="/dashboard" class="btn btn-primary mr-2">Tableau de bord</a>
        <a href="/logout" class="btn btn-danger">Déconnexion</a>
      </nav>
    </header>

    <!-- Contenu principal -->
    <main>
      <form action="/submit" method="post" id="inspection-form">
        <!-- Afficher les erreurs de validation -->
        <% if (errors && errors.length > 0) { %>
          <div class="alert alert-danger">
            <ul>
              <% errors.forEach(function(error) { %>
                <li><%= error.msg %></li>
              <% }); %>
            </ul>
          </div>
        <% } %>

        <!-- Informations du client -->
        <section>
          <h2><i class="fas fa-user"></i> Informations du client</h2>
          <div class="form-group">
            <label for="date">Date :</label>
            <input type="date" id="date" name="date" value="<%= data.date || '' %>" class="form-control" required />
          </div>

          <div class="form-group">
            <label for="client_name">Nom du client :</label>
            <input
              type="text"
              id="client_name"
              name="client_name"
              maxlength="50"
              class="form-control"
              placeholder="Entrez le nom complet du client"
              value="<%= data.client_name || '' %>"
              required
            />
          </div>

          <div class="form-group">
            <label for="client_phone">Téléphone du client :</label>
            <input
              type="text"
              id="client_phone"
              name="client_phone"
              maxlength="15"
              class="form-control"
              placeholder="Entrez le numéro de téléphone du client"
              value="<%= data.client_phone || '' %>"
              required
            />
          </div>
        </section>

        <!-- Informations du véhicule -->
        <section>
          <h2><i class="fas fa-car"></i> Informations du véhicule</h2>
          <div class="form-group">
            <label for="vehicle_registration">Immatriculation :</label>
            <input
              type="text"
              id="vehicle_registration"
              name="vehicle_registration"
              maxlength="20"
              class="form-control"
              placeholder="Entrez l'immatriculation du véhicule"
              value="<%= data.vehicle_registration || '' %>"
              required
            />
          </div>

          <div class="form-group">
            <label for="vehicle_make">Marque :</label>
            <input
              type="text"
              id="vehicle_make"
              name="vehicle_make"
              maxlength="50"
              class="form-control"
              placeholder="Entrez la marque du véhicule"
              value="<%= data.vehicle_make || '' %>"
              required
            />
          </div>

          <div class="form-group">
            <label for="vehicle_model">Modèle :</label>
            <input
              type="text"
              id="vehicle_model"
              name="vehicle_model"
              maxlength="50"
              class="form-control"
              placeholder="Entrez le modèle du véhicule"
              value="<%= data.vehicle_model || '' %>"
              required
            />
          </div>

          <div class="form-group">
            <label for="mileage">Kilométrage :</label>
            <input
              type="number"
              id="mileage"
              name="mileage"
              max="9999999"
              class="form-control"
              placeholder="Entrez le kilométrage du véhicule"
              value="<%= data.mileage || '' %>"
              required
            />
          </div>

          <div class="form-group">
            <label for="next_inspection_date">Prochaine date de contrôle technique :</label>
            <input
              type="date"
              id="next_inspection_date"
              name="next_inspection_date"
              class="form-control"
              value="<%= data.next_inspection_date || '' %>"
            />
          </div>
        </section>

        <!-- Nouveaux éléments de vérification -->
        <section>
          <h2><i class="fas fa-wrench"></i> Vérifications supplémentaires</h2>
          <div class="form-row">
            <!-- Pneus -->
            <div class="form-group col-md-6">
              <label for="front_tires">Pneus avant :</label>
              <select id="front_tires" name="front_tires" class="form-control" required>
                <option value="">Sélectionnez</option>
                <option value="Bon état">Bon état</option>
                <option value="À remplacer">À remplacer</option>
              </select>
            </div>
            <div class="form-group col-md-6">
              <label for="rear_tires">Pneus arrière :</label>
              <select id="rear_tires" name="rear_tires" class="form-control" required>
                <option value="">Sélectionnez</option>
                <option value="Bon état">Bon état</option>
                <option value="À remplacer">À remplacer</option>
              </select>
            </div>
          </div>

          <!-- Phares -->
          <div class="form-row">
            <div class="form-group col-md-6">
              <label for="front_lights">Phares avant :</label>
              <select id="front_lights" name="front_lights" class="form-control" required>
                <option value="">Sélectionnez</option>
                <option value="Fonctionnels">Fonctionnels</option>
                <option value="Non fonctionnels">Non fonctionnels</option>
              </select>
            </div>
            <div class="form-group col-md-6">
              <label for="rear_lights">Phares arrière :</label>
              <select id="rear_lights" name="rear_lights" class="form-control" required>
                <option value="">Sélectionnez</option>
                <option value="Fonctionnels">Fonctionnels</option>
                <option value="Non fonctionnels">Non fonctionnels</option>
              </select>
            </div>
          </div>

          <!-- Plaquettes de frein -->
          <div class="form-row">
            <div class="form-group col-md-6">
              <label for="front_brake_pads">Plaquettes de frein avant :</label>
              <select id="front_brake_pads" name="front_brake_pads" class="form-control" required>
                <option value="">Sélectionnez</option>
                <option value="Bon état">Bon état</option>
                <option value="Usure avancée">Usure avancée</option>
              </select>
            </div>
            <div class="form-group col-md-6">
              <label for="rear_brake_pads">Plaquettes de frein arrière :</label>
              <select id="rear_brake_pads" name="rear_brake_pads" class="form-control" required>
                <option value="">Sélectionnez</option>
                <option value="Bon état">Bon état</option>
                <option value="Usure avancée">Usure avancée</option>
              </select>
            </div>
          </div>

          <!-- Amortisseurs -->
          <div class="form-row">
            <div class="form-group col-md-6">
              <label for="front_shock_absorbers">Amortisseurs avant :</label>
              <select id="front_shock_absorbers" name="front_shock_absorbers" class="form-control" required>
                <option value="">Sélectionnez</option>
                <option value="Bon état">Bon état</option>
                <option value="À remplacer">À remplacer</option>
              </select>
            </div>
            <div class="form-group col-md-6">
              <label for="rear_shock_absorbers">Amortisseurs arrière :</label>
              <select id="rear_shock_absorbers" name="rear_shock_absorbers" class="form-control" required>
                <option value="">Sélectionnez</option>
                <option value="Bon état">Bon état</option>
                <option value="À remplacer">À remplacer</option>
              </select>
            </div>
          </div>
        </section>
        <!-- Section des commentaires -->
        <section>
          <h2><i class="fas fa-comments"></i> Commentaires</h2>
          <div class="form-group">
            <label for="comments">Commentaires supplémentaires :</label>
            <textarea
              name="comments"
              id="comments"
              maxlength="255"
              class="form-control"
              placeholder="Entrez des commentaires supplémentaires"
            ><%= data.comments || '' %></textarea>
          </div>
        </section>

        <!-- Bouton de soumission -->
        <button type="submit" class="btn btn-success mt-4">
          <i class="fas fa-paper-plane"></i> Soumettre le rapport
        </button>
      </form>
    </main>
  </div>

  <!-- Inclure Bootstrap JS et jQuery -->
  <script
    src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"
    crossorigin="anonymous"
  ></script>
  <!-- Votre script JavaScript -->
  <script src="/script.js"></script>
</body>
</html>
